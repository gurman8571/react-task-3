import React, { useEffect } from 'react'
import { useState } from 'react';




export default function TempApp() {
    const [city, setcity] = useState(null)
    const [temp, settemp] = useState(null)
    const [search, setsearch] = useState("amritsar");
    useEffect(() => {
        const fetchApi = async () => {
            const url = `http://api.openweathermap.org/data/2.5/weather?q=${search}&units=metric&appid=6dca66e908920a151e544c5ca104f8ea`
            const response = await fetch(url)
            //console.log(response);
            const resjson = await response.json();
            // console.log(resjson);
            setcity(resjson.main);
            settemp(resjson.sys)
            console.log(temp);
        }
        fetchApi();
    }, [search])
    return (
     

            <div className="mt-5 bg-red-200 text-black p-6 justify-center">
                <input type="search" className="mt-5 p-2 rounded-lg" name="city" id="" placeholder="search"
                    onChange={(event) => {
                        event.preventDefault();
                        setsearch(event.target.value)

                    }}

                />
                <br />
                <div className="flex flex-col">
                    {!city ? (<p></p>) : (
                        <>

                            <p> current-temp :{city.temp}</p>
                            <p>feels-like:{city.feels_like}</p>
                            <p>temp_min:{city.temp_min}</p>
                            <p>temp_max:{city.temp_max}</p>

                        </>
                    )}
                    {!temp ? (<p></p>) : (
                        <>
                            <p> country:{temp.country}</p>


                        </>
                    )}
                </div>
            </div>
      
    )
}




















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































